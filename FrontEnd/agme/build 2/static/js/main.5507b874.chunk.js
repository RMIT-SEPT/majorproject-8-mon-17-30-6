(this.webpackJsonpagme=this.webpackJsonpagme||[]).push([[0],{123:function(e,t,a){},126:function(e,t,a){},128:function(e){e.exports=JSON.parse('{"api":{"url":"http://localhost:8080/","uri":{"common":{"signup":"signup","login":"login","help":"help"},"signup":"signup","login":"login","company":{"getEmployees":"company/employees","getBookings":"company/bookings","deleteBooking":"company/bookings","getAllServices":"company/allservices","newService":"company/new-service"},"user":{"getBookings":"user/bookings","getAllServices":"user/services","getCompanies":"signup","getAvailability":"user/availability","companies":"user/companies","deleteBooking":"user/bookings","newBooking":"user/new-booking","upcomingBookings":"user/upcoming-bookings"},"employee":{"getBookings":"employee/bookings"},"admin":{"closeCompany":"admin/close-company"}}}}')},129:function(e,t,a){},135:function(e,t,a){},185:function(e,t,a){},193:function(e,t,a){e.exports=a(351)},198:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e){e.exports=JSON.parse('{"signup":{"phone":"invalid phone number","password":"Password must be at least 6 characters long","username":"Username is taken","address":"Incorrect address format","name":"Invalid name","confirmPassword":"Passwords do not match","companyName":"Company name cannot be blank","userType":"User type cannot be blank","email":"Email cannot be blank","companyUserName":"Please select a company"}}')},254:function(e,t){},256:function(e,t){},26:function(e,t,a){(function(t){var n=a(252),i=function(e,t){var a=n.createHmac("sha512",t);return a.update(e),{salt:t,passwordHash:a.digest("hex")}};e.exports={generateSaltAndHash:function(e){var t,a=(t=16,n.randomBytes(Math.ceil(t/2)).toString("hex").slice(0,t));return i(e,a)},sha512:i,decodeJwt:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},getDecodedJwtFromLocalStorage:function(){var e=JSON.parse(localStorage.getItem("credentials"));if(!e)return null;var a=e.jwt.split(".")[1],n=new t(a,"base64");return JSON.parse(n.toString("ascii"))}}}).call(this,a(25).Buffer)},267:function(e,t){},269:function(e,t){},27:function(e,t,a){"use strict";a.r(t),function(e,t){var n=a(23),i=a.n(n),l=a(33),r=a(128),o=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!RegExp("^2[0-9]{2}$").test(t.status)){e.next=15;break}return a={statusCode:t.status},e.prev=3,e.next=6,t.json();case 6:a.body=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a.body="";case 12:return e.abrupt("return",a);case 15:throw t;case 16:e.next=25;break;case 18:return e.prev=18,e.t1=e.catch(0),e.t2=e.t1.status||-1,e.next=23,e.t1.text();case 23:return e.t3=e.sent,e.abrupt("return",{statusCode:e.t2,body:e.t3});case 25:case"end":return e.stop()}}),e,null,[[0,18],[3,9]])})));return function(t){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,fetch(t+a,n);case 4:return o=e.sent,e.abrupt("return",r(o));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{statusCode:-1,body:"Could not reach the server. Please verify your internet connection."});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),s=function(){try{return"Bearer "+JSON.parse(localStorage.getItem("credentials")).jwt}catch(e){return null}},c=function(){var t=localStorage.getItem("credentials")&&localStorage.getItem("credentials").split(".")[1];if(!t)return null;var a=new e(t,"base64");return JSON.parse(a.toString("ascii"))},u=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n,l){var c,u,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.api.url,u=r.api.uri[t][a],m={method:l,mode:"cors",headers:{"Content-Type":"application/JSON",Accept:"application/JSON","Access-Control-Allow-Origin":"*",Authorisation:""}},n&&(m.body=JSON.stringify(n)),s()&&(m.headers.Authorisation=s()),e.next=7,o(c,u,m);case 7:return h=e.sent,e.abrupt("return",h);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,i){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u("company","getAllServices","","GET").then((function(e){if(200===e.statusCode&&e.body.length){localStorage.setItem("agme_all_services",JSON.stringify(e.body));var t=c().sub,a=[],n=[];e.body.forEach((function(e){e.company.filter((function(e){return e.username===t})).length?a.push(e):n.push(e)})),localStorage.setItem("company_services",JSON.stringify(a)),localStorage.setItem("company_available_services",JSON.stringify(n))}})),u("company","getBookings","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("company_bookings",JSON.stringify(e.body))})),u("company","getEmployees","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("company_employees",JSON.stringify(e.body))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u("employee","getBookings","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("employee_bookings",JSON.stringify(e.body))})),u("common","login",{username:"dummy",password:"12345678",role:"USER"},"post").then((function(e){200===e.statusCode&&localStorage.setItem("employee_dummy_user_credentials",JSON.stringify(e.body))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u("user","getBookings","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("user_bookings",JSON.stringify(e.body))})),u("user","upcomingBookings","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("user_upcoming-bookings",JSON.stringify(e.body))})),u("user","getAllServices","","GET").then((function(e){200===e.statusCode&&(e.body.length&&localStorage.setItem("user_services",JSON.stringify(e.body)),e.body.length&&localStorage.setItem("agme_all_services",JSON.stringify(e.body)))})),u("user","companies","","GET").then((function(e){200===e.statusCode&&e.body.length&&localStorage.setItem("user_companies",JSON.stringify(e.body))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c()){e.next=3;break}return e.abrupt("return");case 3:a=t.role,console.log(a),e.t0=a,e.next="COMPANY"===e.t0?8:"EMPLOYEE"===e.t0?10:"USER"===e.t0?12:14;break;case 8:return m(),e.abrupt("break",15);case 10:return h(),e.abrupt("break",15);case 12:return d(),e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.exports={getDecodedJwtFromLocalStorage:c,fetchFromApi:o,apiCall:u,getResources:p}}.call(this,a(25).Buffer,a(201)(e))},296:function(e,t){},298:function(e,t){},299:function(e,t){},305:function(e,t){},307:function(e,t){},325:function(e,t){},327:function(e,t){},339:function(e,t){},342:function(e,t){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(39),r=a.n(l),o=a(4),s=a(5),c=a(9),u=a(7),m=a(6),h=(a(198),a(31)),d=a(15),p=(a(126),a(22)),v=a(27).apiCall,g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isCallingServer:!1,failed:!1,error:null,username:"",password:"",role:""},n.handleAuthenticateRequest=n.handleAuthenticateRequest.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAuthenticateRequest",value:function(){var e=this;localStorage.clear(),this.setState({isCallingServer:!0});var t={username:this.state.username,password:this.state.password,role:this.state.role};v("common","login",t,"post").then((function(t){t?200===t.statusCode?(localStorage.setItem("credentials",JSON.stringify(t.body)),e._isMounted&&e.setState({isCallingServer:!1}),e.props.handleAuthentication()):(localStorage.removeItem("credentials"),e._isMounted&&e.setState({isCallingServer:!1,failed:!0,error:t.body})):e._isMounted&&e.setState({isCallingServer:!1,failed:!0,error:"No response from the server. Either the server your internet connection is down."})}))}},{key:"showAuthenticateButton",value:function(){return this.state.isCallingServer?i.a.createElement(d.a,{variant:"secondary"},i.a.createElement(p.a,{animation:"border",role:"status"})," Authenticating..."):this.state.password&&this.state.username&&this.state.role&&!this.state.isCallingServer?i.a.createElement(d.a,{variant:"success",className:"authenticate_button",onClick:this.handleAuthenticateRequest},"Authenticate"):void 0}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.setState(Object(h.a)({},t,a))}},{key:"showError",value:function(){return this.state.error?i.a.createElement("p",{className:"errorInfo"},this.state.error||"Invalid Credentials supplied!"):i.a.createElement("p",null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"login_outter"},i.a.createElement("div",{className:"login"},i.a.createElement("h3",{className:"title"},"You are not authenticated"),i.a.createElement("div",{className:"form-container"},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"username",value:this.state.username,placeholder:"Username",className:"form-control",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"password",name:"password",value:this.state.password,className:"form-control",placeholder:"Password",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("select",{className:"form-control",name:"role",value:this.state.role,required:!0,placeholder:"role",onChange:this.handleInputChange},i.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose a role"),i.a.createElement("option",{value:"USER"},"User"),i.a.createElement("option",{value:"COMPANY"},"Company"),i.a.createElement("option",{value:"EMPLOYEE"},"Employee"),i.a.createElement("option",{value:"ADMIN"},"Admin")),i.a.createElement("br",null),this.showError(),this.showAuthenticateButton(),i.a.createElement("p",{name:"signup",className:"signup_info",onClick:this.props.handleContentChangeRequest},"Or click here to Sign up"))))}}]),a}(i.a.Component),b=(a(129),a(23)),f=a.n(b),y=a(33),E=function(){function e(t){var a=this;Object(o.a)(this,e),t&&Object.keys(t).forEach((function(e){a[e]=t[e]}))}return Object(s.a)(e,[{key:"setField",value:function(e,t){this[e]=t}}]),e}(),k=a(27).apiCall,S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);return["serviceType","duration"].forEach((function(e){n[e]||(n[e]="")})),n}return Object(s.a)(a,[{key:"getDateTime",value:function(){return new Date(Number(2e3+Number(this.startDateTime.split("-")[2].split(" ")[0])),this.startDateTime.split("-")[1]-1,this.startDateTime.split("-")[0],this.startDateTime.split(" ")[1].split(":")[0])}},{key:"isOldBooking",value:function(){return this.getDateTime().getTime()<(new Date).getTime()}},{key:"setTime",value:function(e){this.date=new Date(this.date),this.date.setHours(e),this.date=this.date.toISOString()}},{key:"setField",value:function(e,t){this[e]=t,this.availabilities=null}},{key:"isComplete",value:function(){return!!(this.serviceType&&this.date&&this.duration&&this.employeeUsername)}},{key:"setEmployeeUsername",value:function(e){this.employeeUsername=e}},{key:"getDDYYMMYY",value:function(){if(this.date){var e=new Date(this.date),t=e.getDate()<10?"0"+e.getDate():e.getDate(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;return e.getFullYear()+"-"+a+"-"+t}}},{key:"getDateString",value:function(){var e=this.getDateTime(),t=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;return(e.getDate()<10?"0"+e.getDate():e.getDate())+"/"+a+"/"+t+" - "+e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}},{key:"getDDYYMMYYHH",value:function(){if(!this.date)return"";var e=new Date(this.date).getHours()<10?"0"+new Date(this.date).getHours().toString():new Date(this.date).getHours();return this.getDDYYMMYY()+"T"+e+":00:00"}},{key:"handleBookingRequest",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={serviceType:this.serviceType,date:this.getDDYYMMYYHH(),duration:this.duration,employeeUsername:this.employeeUsername},e.abrupt("return",k("user","newBooking",t,"post"));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBookingInfo",value:function(){return{id:this.id,startDateTime:this.startDateTime.toString(),duration:this.duration,service:this.serviceType.name,companyName:this.company.name,contactNumber:this.company.phone,workerName:this.employee.name}}},{key:"getAvailability",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.serviceType&&this.date&&this.duration){e.next=2;break}return e.abrupt("return",null);case 2:return t={serviceName:this.serviceType,date:this.getDDYYMMYY(),duration:this.duration},e.abrupt("return",k("user","getAvailability",t,"post").then((function(e){return 200===e.statusCode&&(a.availabilities=e.body),e})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(E),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={availabilities:n.props.availabilities,selectedEmployee:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;if(this.props.isUpdatingAvailability)return i.a.createElement("div",null,i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("p",null,"Please wait while we retrieve availability. Please select a date if you haven't done it already"));if(this.props.availabilities){if(this.props.availabilities.length>0){var t=this.props.availabilities.map((function(e,t){return i.a.createElement("option",{key:t+1,value:e.username},e.name)})),a=this.state.selectedEmployee&&this.props.availabilities.filter((function(t){return t.username===e.state.selectedEmployee})),n=a&&a.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Time"),i.a.createElement("select",{name:"time",defaultValue:"DEFAULT",className:"form-control",onChange:function(t){t.preventDefault(),e.props.booking.setTime(t.target.value),e.props.updateBooking()}},i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Choose time"),a[0].availability.map((function(e,t){return i.a.createElement("option",{key:t+1,value:e},"".concat(e,":00:00"))}))));return i.a.createElement("div",null,i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Select an employee"),i.a.createElement("select",{defaultValue:"DEFAULT",className:"form-control",name:"employeeUsername",onChange:function(t){t.preventDefault(),e.setState({selectedEmployee:t.target.value}),e.props.booking.setEmployeeUsername(t.target.value)}},i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Select an employee"),t)),n)}return i.a.createElement("div",null,"No time available for this date and duration")}return""}}]),a}(i.a.Component),O=a(11),N=a.n(O),w=a(124),j=a(186),D=a(38),M=a.n(D),_=a(27).apiCall,A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={booking:new S({}),isCallingServer:!0,options:[],called:!1,newCall:!1,getServicesStatus:null,calledTime:!1,calledDays:!1,employees:[],employee:"",array:[],timeSlots:[],classname:"upcomingApt",upcBookings:0},n.handleBookingChange=n.handleBookingChange.bind(Object(c.a)(n)),n.handleBookingRequestForUser=n.handleBookingRequestForUser.bind(Object(c.a)(n)),n.getAllServices=n.getAllServices.bind(Object(c.a)(n)),n.updateBooking=n.updateBooking.bind(Object(c.a)(n)),n.changeClass=n.changeClass.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.getAllServices();var t=localStorage.getItem("user_upcoming-bookings")?JSON.parse(localStorage.getItem("user_upcoming-bookings")):[];t&&t.length?this.setState({appointments:t,failed:!1,newCall:!0}):_("user","upcomingBookings",null,"get").then((function(t){200===t.statusCode?e._isMounted&&e.setState({appointments:t.body,failed:!1,newCall:!0}):e._isMounted&&e.setState({failed:!0,newCall:!0})}))}},{key:"updateBooking",value:function(e){e&&e.preventDefault();var t=new S(JSON.parse(JSON.stringify(this.state.booking)));this._isMounted&&this.setState({booking:t})}},{key:"getAllServices",value:function(){var e=this;if(!this.state.getServicesStatus){var t=localStorage.getItem("user_services")?JSON.parse(localStorage.getItem("user_services")):[];if(t&&t.length){var a=[i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Choose a Service")];t.forEach((function(e,t){a.push(i.a.createElement("option",{key:t+1,value:e.name},e.name))})),this.setState({getServicesStatus:200,options:a})}else _("user","getAllServices",null,"get").then((function(t){var a=e.state.options;if(200===t.statusCode){e._isMounted&&e.setState({isCallingServer:!1});var n=[],l=1;n.push(i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Choose a Service")),t.body.forEach((function(e){return n.push(i.a.createElement("option",{key:e.name,value:e.name},e.name))}),l++),a=n}e._isMounted&&e.setState({getServicesStatus:t.statusCode,options:a})}))}}},{key:"handleBookingChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value,n=new S(JSON.parse(JSON.stringify(this.state.booking)));n.setField(t,a),this._isMounted&&this.setState({booking:n,availabilities:null},(function(){var e=this;"date"!==t&&"duration"!==t||(this.setState({isUpdatingAvailability:!0}),this.state.booking.getAvailability().then((function(t){if(t&&200===t.statusCode){var a=new S(JSON.parse(JSON.stringify(e.state.booking)));a.availabilities=t.body,e._isMounted&&e.setState({isUpdatingAvailability:!1,booking:a,isCallingServer:!1,availabilities:t.body})}})))}))}},{key:"handleTimeValue",value:function(e){for(var t=[],a=0;a<this.state.array[e-1].length;a++)t.push(i.a.createElement("option",{key:a,value:this.state.array[e-1][a]},this.state.array[e-1][a]));this._isMounted&&this.setState({timeSlots:t})}},{key:"getNextDate",value:function(e){return new Date(e.getTime()+864e5)}},{key:"showDuration",value:function(){if(""!==this.state.booking.serviceType)return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Duration"),i.a.createElement("select",{defaultValue:"DEFAULT",className:"form-control",name:"duration",onChange:this.handleBookingChange},i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Choose a duration"),[1,2,3,4].map((function(e){return i.a.createElement("option",{key:e,value:e},e," hour(s)")}))))}},{key:"showDates",value:function(){if(this.state.booking.duration){var e=new Date;e.setDate(e.getDate()+2);for(var t=[],a=0;a<30;a++)t.push(i.a.createElement("option",{key:a+1,value:e.toString()},e.toDateString())),e.setDate(e.getDate()+1);return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Date"),i.a.createElement("select",{defaultValue:"DEFAULT",className:"form-control",name:"date",onChange:this.handleBookingChange},i.a.createElement("option",{key:0,value:"DEFAULT",disabled:!0},"Choose a date"),t),i.a.createElement("br",null))}}},{key:"handleBookingRequestForUser",value:function(){var e=this;this._isMounted&&this.setState({isCallingServer:!0}),this.state.booking.handleBookingRequest().then((function(t){if(200===t.statusCode){e._isMounted&&e.setState({isCallingServer:!1,isUpdatingAvailability:!1});var a=localStorage.getItem("user_bookings")?JSON.parse(localStorage.getItem("user_bookings")):[];a&&a.length&&a.push(t.body),localStorage.setItem("user_bookings",JSON.stringify(a)),alert("booking successful")}else e._isMounted&&e.setState({isCallingServer:!1,failed:!0,error:t,isUpdatingAvailability:!1})}))}},{key:"showUpcoming",value:function(){if(this.state.newCall){if(this.state.failed)return"";var e=this.state.appointments.length,t=this.state.appointments.map((function(e){return new S(e).getBookingInfo()})),a=[{dataField:"id",text:"Booking id"},{dataField:"startDateTime",text:"Date / Time",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"duration",text:"Duration (h)",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"service",text:"Service",filter:Object(O.textFilter)()},{dataField:"companyName",text:"Company",filter:Object(O.textFilter)()},{dataField:"contactNumber",text:"Telephone",filter:Object(O.textFilter)()},{dataField:"workerName",text:"Provider name",filter:Object(O.textFilter)()}];return i.a.createElement("div",null,i.a.createElement("div",{className:"title"},i.a.createElement("p",null,i.a.createElement(w.a,{className:"alarm"})," Upcoming Apointments (Next 48h)")),i.a.createElement("div",{className:"body"},i.a.createElement("p",null,"You have ",e," appointments coming soon."),i.a.createElement(d.a,{onClick:this.changeClass,variant:"noClass"===this.state.classname?"danger":"success",className:"showUpcomming"},"noClass"===this.state.classname?"Hide":"View"),i.a.createElement("div",{className:this.state.classname},i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:t,columns:a,filter:N()()})))))}return i.a.createElement("div",{className:"calling"},i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("br",null),i.a.createElement("p",null,"Please wait while we retrieve your bookings."))}},{key:"changeClass",value:function(){"upcomingApt"===this.state.classname?this._isMounted&&this.setState({classname:"noClass"}):this._isMounted&&this.setState({classname:"upcomingApt"})}},{key:"render",value:function(){return this.state.getServicesStatus?200===this.state.getServicesStatus?i.a.createElement("div",{className:"newAppointmentOutter"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"new-booking"},this.showUpcoming()),i.a.createElement("div",{className:"new-booking"},i.a.createElement("div",{className:"title"},i.a.createElement(j.a,{className:"alarm"}),i.a.createElement("h3",null,"New Booking")),i.a.createElement("div",{className:"body"},i.a.createElement("br",null),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Service"),i.a.createElement("select",{value:this.state.booking.serviceType||"DEFAULT",className:"form-control",name:"serviceType",onChange:this.handleBookingChange},this.state.options)),i.a.createElement("br",null),this.showDuration(),i.a.createElement("br",null),this.showDates(),i.a.createElement(C,{isUpdatingAvailability:this.state.isUpdatingAvailability,updateBooking:this.updateBooking,booking:this.state.booking,availabilities:this.state.availabilities}),i.a.createElement("br",null),this.state.booking.isComplete()&&i.a.createElement("button",{className:"btn btn-success",onClick:this.handleBookingRequestForUser},"Submit"),i.a.createElement("br",null))))):i.a.createElement("div",{className:"new-booking"},i.a.createElement("h3",{className:"title"},"New Booking"),i.a.createElement("div",{className:"form-container"},i.a.createElement("p",null,"Unfortunately we could not load available services at this time."))):i.a.createElement("div",{className:"new-booking"},i.a.createElement("div",{className:"title"},i.a.createElement(w.b,{className:"alarm"}),i.a.createElement("h3",null,"Retrieving services")),i.a.createElement("div",{className:"body"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),i.a.createElement("p",null,"Please wait while we figure out what services are available to you.")))}}]),a}(i.a.Component),B=(a(135),a(27).apiCall),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isCallingServer:!1,failed:!1,error:null,description:"",name:"",entity:new E},n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"addNewSubmit",value:function(){B("company","newService",this.state.entity,"post").then((function(e){200===e.statusCode&&alert("New service has been added")}))}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.state.entity.setField(e.target.name,e.target.value),this.setState(Object(h.a)({},t,a))}},{key:"render",value:function(){return i.a.createElement("div",{className:"newService"},i.a.createElement("h1",null,"Add a new service"),i.a.createElement("label",null,"Service Name"),i.a.createElement("input",{name:"description",value:this.state.name,type:"text",onChange:this.handleInputChange}),i.a.createElement("label",null,"Description"),i.a.createElement("input",{name:"name",type:"text",value:this.state.description,onChange:this.handleInputChange}),i.a.createElement("button",{onClick:this.addNewSubmit()},"add new"))}}]),a}(i.a.Component),F=(a(248),a(27).apiCall),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isCallingServer:!1,options:[],isValid:!1,called:!1,company:"",entity:new E},n.showCompanies=n.showCompanies.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.closeACompany=n.closeACompany.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.state.entity.setField(e.target.name,e.target.value),console.log(a),"username"===t&&this.setState({isValid:!0}),this.setState(Object(h.a)({},t,a))}},{key:"showCompanies",value:function(){var e=this;this.state.isCallingServer||F("admin","closeCompany",null,"get").then((function(t){var a=e.state.options;if(200===t.statusCode){var n=[],l=1;n.push(i.a.createElement("option",{key:0,value:"DEFAULT",defaultValue:!0,disabled:!0},"Choose a Business")),t.body.forEach((function(e){return n.push(i.a.createElement("option",{key:e.username,value:e.username},e.name))}),l++),a=n}e.setState({getServicesStatus:t.statusCode,options:a,isCallingServer:!0})}))}},{key:"closeACompany",value:function(){var e=this;this.refs.btn.setAttribute("disabled","disabled"),F("admin","closeCompany",this.state.entity,"post").then((function(t){console.log(t),200===t.statusCode?(alert("Cancellation successful"),e.refs.btn.removeAttribute("disabled")):(alert("something went wrong"),e.refs.btn.removeAttribute("disabled"))}))}},{key:"displayCompanies",value:function(){return i.a.createElement("select",{defaultValue:"DEFAULT",className:"form-control",name:"username",onChange:this.handleInputChange}," ",this.state.options)}},{key:"showCloseBusiness",value:function(){if(this.state.isValid)return i.a.createElement("button",{ref:"btn",className:"btn btn-danger form-control",onClick:this.closeACompany},"close business")}},{key:"render",value:function(){return this.showCompanies(),console.log(this.state.isCallingServer),this.state.isCallingServer?i.a.createElement("div",{className:"closeBusiness"},i.a.createElement("label",null,"Company"),this.displayCompanies(),i.a.createElement("br",null),this.showCloseBusiness()):i.a.createElement("div",{className:"closeBusiness"},i.a.createElement("div",{className:"calling"},i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("br",null),i.a.createElement("p",null,"Please wait while we retrieve your bookings.")))}}]),a}(i.a.Component),T=a(27).apiCall,L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={haveDataFromServer:!1},n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=localStorage.getItem("company_bookings")&&JSON.parse(localStorage.getItem("company_bookings"));t&&t.length?this._isMounted&&this.setState({haveDataFromServer:!0,appointments:t}):T("company","getBookings",null,"get").then((function(t){if(200===t.statusCode){for(var a=t.body,n=0;n<a.length;n++){var i=a[n].startDateTime.replace(" ","T"),l="20"+i.substr(6,2)+"-"+i.substr(3,2)+"-"+i.substr(0,2)+i.substr(8,9);a[n].startDateTime=l}e._isMounted&&e.setState({haveDataFromServer:!0,appointments:a})}}))}},{key:"render",value:function(){if(!1===this.state.haveDataFromServer)return i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading appointments"));if(this.state.appointments||this.state.appointments.length){var e=this.state.appointments.map((function(e){return new S(e).getBookingInfo()})),t=[{dataField:"id",text:"Booking id"},{dataField:"startDateTime",text:"Date / Time",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"duration",text:"Duration (h)",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"service",text:"Service",filter:Object(O.textFilter)()},{dataField:"companyName",text:"Company",filter:Object(O.textFilter)()},{dataField:"contactNumber",text:"Telephone",filter:Object(O.textFilter)()},{dataField:"workerName",text:"Provider name",filter:Object(O.textFilter)()}];return i.a.createElement("div",{className:"upcoming_events_outter"},i.a.createElement("h3",null,"Your upcoming events"),i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:e,columns:t,filter:N()()})))}return i.a.createElement("p",null,i.a.createElement("h2",null,"No Current Bookings."))}}]),a}(i.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(L,null)}}]),a}(i.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,"You are authenticated.")}}]),a}(i.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={content:i.a.createElement(g,{handleContentChangeRequest:n.props.handleContentChangeRequest,handleAuthentication:n.props.handleAuthentication})},n}return Object(s.a)(a,[{key:"render",value:function(){if(!this.props.authenticated)return this.state.content;switch(this.props.type.toUpperCase()){case"EMPLOYEE":return i.a.createElement(R,null);case"USER":return i.a.createElement(A,null);case"COMPANY":return i.a.createElement(U,null);case"ADMIN":return i.a.createElement(x,null);case"PROVIDER":return i.a.createElement(I,null);default:return i.a.createElement("div",null,"Cannot load your content")}}}]),a}(i.a.Component),P=(a(249),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"isComplete",value:function(){return this.password&&this.username&&this.name&&this.phone&&this.address&&this.role&&this.email&&this.confirmPassword}}]),a}(E)),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.props.fields.map((function(t,a){return i.a.createElement("b",{key:a},i.a.createElement("br",null),i.a.createElement("input",{className:"form-control",required:!0,type:e.props.type||"text",name:t,value:e.props.entity[t]||"",placeholder:t,onChange:e.props.onChange}),i.a.createElement("label",{className:"errorLabel"},e.props.showError(t)))}))}}]),a}(i.a.Component),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.options.map((function(e,t){return i.a.createElement("option",{value:e.value,key:t},e.label)}));return i.a.createElement("select",{placeholder:this.props.placeholder,className:this.props.className,name:this.props.name,value:this.props.entity[this.props.name]||"",onChange:this.props.onChange},i.a.createElement("option",{value:this.props.defaultValue.value||"",disabled:!0,defaultValue:!0},this.props.defaultValue.label),e)}}]),a}(i.a.Component),H=a(27),V=a(250).signup,G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isCallingServer:!1,failed:!1,error:"",options:[],called:!1,entity:new P,errors:new Set},n.handleSignupRequest=n.handleSignupRequest.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.showError=n.showError.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"handleSignupRequest",value:function(){var e=this;this.setState({isCallingServer:!0}),H.apiCall("common","signup",this.state.entity,"post").then((function(t){200===t.statusCode?(e.setState({isCallingServer:!1}),alert("Signup succesful. Please login"),e.props.handleContentChangeRequest("login")):e._isMounted&&e.setState({isCallingServer:!1,errors:new Set(JSON.parse(t.body).errorDetails.missingFields)})}))}},{key:"showError",value:function(e){return this.state.errors&&this.state.errors.has(e)&&V[e]||""}},{key:"showSignupButtonButton",value:function(){return this.state.isCallingServer?i.a.createElement(d.a,{variant:"secondary"},"processing"):this.state.entity.isComplete()&&!this.state.isCallingServer?i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement(d.a,{className:"btn btn-success form-control",onClick:this.handleSignupRequest},"Signup")):void 0}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.state.entity.setField(e.target.name,e.target.value),this.setState(Object(h.a)({},t,a))}},{key:"showFieldsBasedOnRole",value:function(){var e={COMPANY:["companyName"]};return e[this.state.entity.role]?i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{showError:this.showError,fields:e[this.state.entity.role],entity:this.state.entity,onChange:this.handleInputChange})):""}},{key:"showCompanyInput",value:function(){var e=this;if(this.state.called||"EMPLOYEE"!==this.state.entity.role||H.apiCall("user","getCompanies",null,"get").then((function(t){if(200===t.statusCode){var a=[],n=0;for(var l in a.push(i.a.createElement("option",{key:n,value:"",disabled:!0,defaultValue:!0},"Choose a Company")),t.body)a.push(i.a.createElement("option",{key:n+1,value:l},t.body[l])),n++;e._isMounted&&e.setState({options:a,isCallingServer:!1,called:!0})}})),"EMPLOYEE"===this.state.entity.role)return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement("select",{className:"form-control",name:"companyUsername",value:this.state.entity.companyUsername||"",placeholder:"role",onChange:this.handleInputChange},this.state.options),i.a.createElement("label",{className:"errorLabel"},this.showError("companyUsername")))}},{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement("h3",{className:"title"},"Please fill out the details below"),i.a.createElement("div",{className:"form-container"},i.a.createElement(Y,{className:"form-control",name:"role",entity:this.state.entity,placeholder:"Role",onChange:this.handleInputChange,options:[{value:"USER",label:"User"},{value:"COMPANY",label:"Company"},{value:"EMPLOYEE",label:"Employee"}],defaultValue:{value:"",label:"Choose a role"}}),i.a.createElement(q,{showError:this.showError,fields:["username","name"],entity:this.state.entity,onChange:this.handleInputChange}),this.showFieldsBasedOnRole(),this.showCompanyInput(),i.a.createElement(q,{showError:this.showError,fields:["email"],entity:this.state.entity,onChange:this.handleInputChange}),i.a.createElement(q,{showError:this.showError,fields:["phone","address"],entity:this.state.entity,onChange:this.handleInputChange}),i.a.createElement(q,{showError:this.showError,fields:["password","confirmPassword"],type:"password",entity:this.state.entity,onChange:this.handleInputChange}),this.showSignupButtonButton(),i.a.createElement("p",{name:"login",className:"signup_info",onClick:this.props.handleContentChangeRequest},"Already a member? Login here")))}}]),a}(i.a.Component),W=a(27).apiCall,K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isCallingServer:!1,failed:!1,error:null,name:"",email:"",serviceName:"",message:"",sent:!1},n.handleReportRequest=n.handleReportRequest.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"showSubmitButton",value:function(){return this.state.isCallingServer?i.a.createElement(d.a,{variant:"secondary"},i.a.createElement(p.a,{animation:"border",role:"status"})," Submitting..."):this.state.name&&this.state.email&&this.state.message&&!this.state.isCallingServer?i.a.createElement(d.a,{variant:"success",className:"authenticate_button",onClick:this.handleReportRequest},"Submit"):void 0}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleReportRequest",value:function(){var e=this;localStorage.clear(),this.setState({isCallingServer:!0});var t={name:this.state.name,email:this.state.email,serviceName:this.state.serviceName,message:this.state.message};W("common","help",t,"post").then((function(t){t?200===t.statusCode?e._isMounted&&e.setState({isCallingServer:!1,sent:!0}):e._isMounted&&e.setState({isCallingServer:!1,failed:!0,error:t.body}):e._isMounted&&e.setState({isCallingServer:!1,failed:!0,error:"No response from the server. Either the server your internet connection is down."})}))}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.setState(Object(h.a)({},t,a))}},{key:"showError",value:function(){return this.state.error?i.a.createElement("p",{className:"errorInfo"},this.state.error||"Could not post error!"):i.a.createElement("p",null)}},{key:"render",value:function(){return this.state.sent?i.a.createElement("div",{className:"login_outter"},i.a.createElement("div",{className:"login"},i.a.createElement("h3",{className:"title"},"Report an Issue"),i.a.createElement("div",{className:"form-container"},i.a.createElement("p",null,"Your report was sent. Thank you.")))):i.a.createElement("div",{className:"login_outter"},i.a.createElement("div",{className:"login"},i.a.createElement("h3",{className:"title"},"Report an Issue"),i.a.createElement("div",{className:"form-container"},i.a.createElement("br",null),i.a.createElement("div",null,"This form is used to report any issues related to site functionality"),i.a.createElement("br",null),i.a.createElement("div",null,"Queries relating to providers and booking information should be directed to the specific provider"),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"Name",className:"form-control",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"email",value:this.state.email,className:"form-control",placeholder:"Email",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"serviceName",value:this.state.serviceName,className:"form-control",placeholder:"Service (If applicable)",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("textarea",{rows:"4",cols:"50",name:"message",value:this.state.message,className:"form-control",placeholder:"Message",onChange:this.handleInputChange}),this.showError(),this.showSubmitButton())))}}]),a}(i.a.Component),z=(a(251),a(26)),$=(a(185),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getBookings",value:function(e){var t=this;return e?e.filter((function(e){return e.employee.id===t.id})):[]}}]),a}(E)),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.employees&&(n.employees=e.employees.map((function(e){return new $(e)}))),n}return Object(s.a)(a,[{key:"formattedProvider",value:function(){var e=JSON.parse(JSON.stringify(this));if(1===e.employees.length)e.employees=e.employees[0].name;else if(e.employees.length>1){for(var t="",a=0;a<e.employees.length-1;a++)t=t+e.employees[a].name+", ";t+=e.employees[e.employees.length-1].name,e.employees=t}else e.employees="No employees registered";return e}}]),a}(E),X=a(27).apiCall,Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={called:!1,showModal:!1},n._isMounted=!1,n.closeModal=n.closeModal.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"closeModal",value:function(e){e.preventDefault(),this.setState({showModal:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=localStorage.getItem("user_companies")?JSON.parse(localStorage.getItem("user_companies")):[];t&&t.length?this.setState({providers:t,failed:!1,called:!0}):X("user","companies",null,"get").then((function(t){200===t.statusCode?e._isMounted&&e.setState({providers:t.body,failed:!1,called:!0}):e._isMounted&&e.setState({failed:!0,called:!0})}))}},{key:"render",value:function(){if(this.state.called){if(this.state.failed)return i.a.createElement("div",null,"Ooops. Something went wrong, we could not retrieve the available providers");var e=[{dataField:"id",text:"id"},{dataField:"name",text:"Company",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"phone",text:"Phone",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"address",text:"Address",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"employees",text:"Employees",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})}],t=this.state.providers.map((function(e){return new Q(e).formattedProvider()}));return i.a.createElement("div",null,i.a.createElement("h3",null,"Providers Using Our System"),i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:t,columns:e,filter:N()()})))}return i.a.createElement("div",{className:"calling"},i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("br",null),i.a.createElement("p",null,"Please wait while we retrieve the available providers."))}}]),a}(i.a.Component),ee=a(18),te=a(24),ae=a(13),ne=(a(60),a(45)),ie=a(0),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=Object(z.getDecodedJwtFromLocalStorage)();return i.a.createElement(ee.a,{className:"userNavbar"},i.a.createElement(ee.a.Brand,{href:"#home"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(te.a.Link,{href:"#home"},"Home"),i.a.createElement(te.a.Link,{href:"#link"},"Link"),i.a.createElement(ae.a,{title:"Services",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"providers",onClick:this.props.handleSelectNavBar},"Providers"),i.a.createElement(ae.a.Item,{href:"#action/3.2"},"Another action"),i.a.createElement(ae.a.Item,{href:"#action/3.3"},"Something"),i.a.createElement(ae.a.Divider,null),i.a.createElement(ae.a.Item,{href:"#action/3.4"},"Separated link")),i.a.createElement(te.a.Link,{name:"help",onClick:this.props.handleSelectNavBar},"Help/Report"))),function(){if(t&&t.exp>t.iat)return i.a.createElement(ie.b.Provider,{value:{color:"white",size:"40px"}},i.a.createElement("div",null,i.a.createElement(ne.a,{className:"logout",onClick:e.props.handleLogout})))}())}}]),a}(i.a.Component),re=a(69),oe=a(50),se=a(17),ce=a(27).apiCall,ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={called:!1,showModal:!1,isDeletingBooking:!1,deleted:!1,deletedFailed:!1},n.closeModal=n.closeModal.bind(Object(c.a)(n)),n.handleDeleteClick=n.handleDeleteClick.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"closeModal",value:function(e){e.preventDefault(),this.setState({showModal:!1})}},{key:"handleDeleteClick",value:function(e){var t=this;e.preventDefault(),this.setState({isDeletingBooking:!0});var a=this.state.booking.id;ce("user","deleteBooking",a,"DELETE").then((function(e){if(RegExp("^2[0-9]{2}$").test(e.statusCode)){var a=t.state.appointments.filter((function(e){return e.id!==t.state.booking.id}));t.setState({appointments:a,isDeletingBooking:!1,deleted:!0,deletedFailed:!1,showModal:!1})}else t.setState({isDeletingBooking:!1,deleted:!1,deletedFailed:!0,shoModal:!1})}))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=localStorage.getItem("user_bookings")?JSON.parse(localStorage.getItem("user_bookings")):[];t&&t.length?this.setState({appointments:JSON.parse(localStorage.getItem("user_bookings")),failed:!1,called:!0}):ce("user","getBookings",null,"get").then((function(t){200===t.statusCode?e._isMounted&&e.setState({appointments:t.body,failed:!1,called:!0}):e._isMounted&&e.setState({failed:!0,called:!0})}))}},{key:"modal",value:function(){var e=this;if(this.state.booking&&this.state.showModal)return this.state.isDeletingBooking?i.a.createElement(se.a,{show:this.state.showModal},i.a.createElement(se.a.Dialog,null,i.a.createElement(se.a.Header,null,i.a.createElement(se.a.Title,null,"Cancelling...")),i.a.createElement(se.a.Body,null,i.a.createElement("p",null," Please wait while we cancel your appointment")))):this.deleted?i.a.createElement(se.a,{show:this.state.showModal},i.a.createElement(se.a.Dialog,null,i.a.createElement(se.a.Header,null,i.a.createElement(se.a.Title,null,"Appointment was canceled")),i.a.createElement(se.a.Body,null,i.a.createElement("p",null," Your appointment was cancelled.")),i.a.createElement(se.a.Footer,null,i.a.createElement(d.a,{variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel")))):this.state.deletedFailed?i.a.createElement(se.a,{show:this.state.showModal},i.a.createElement(se.a.Dialog,null,i.a.createElement(se.a.Header,null,i.a.createElement(se.a.Title,null,"Cancelation failed")),i.a.createElement(se.a.Body,null,i.a.createElement("p",null,"Unfortunately we could not cancel your appointment with ",this.state.booking.employee.name," scheduled to start at ",this.state.booking.getDateString()," at this time?                                ")),i.a.createElement(se.a.Footer,null,i.a.createElement(d.a,{variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel")))):i.a.createElement(se.a,{show:this.state.showModal},i.a.createElement(se.a.Dialog,null,i.a.createElement(se.a.Header,null,i.a.createElement(se.a.Title,null,"Confirm cancelation")),i.a.createElement(se.a.Body,null,i.a.createElement("p",null,"Are you sure you want to cancel your booking with ",this.state.booking.employee.name," scheduled to start at ",this.state.booking.getDateString(),"?                                ")),i.a.createElement(se.a.Footer,null,i.a.createElement(d.a,{variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel"),i.a.createElement(d.a,{variant:"danger",onClick:this.handleDeleteClick},"Go ahead"))))}},{key:"render",value:function(){var e=this;if(this.state.called){if(this.state.failed)return i.a.createElement("div",null,"Ooops. Something went wrong, we could not retrieve your bookings");var t=this.state.appointments.map((function(t){var a=new S(t),n=a.isOldBooking()?"":i.a.createElement(d.a,{variant:"danger",onClick:function(t){t.preventDefault(),e.setState({booking:a,showModal:!0})}},i.a.createElement(oe.c,null)," ");return{id:t.id,startDateTime:t.startDateTime,duration:t.duration,service:t.serviceType.name,companyName:t.company.name,contactNumber:t.company.phone,workerName:t.employee.name,action:n}})),a=[{dataField:"id",text:"Booking id"},{dataField:"startDateTime",text:"Date / Time",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"duration",text:"Duration (h)",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"service",text:"Service",filter:Object(O.textFilter)()},{dataField:"companyName",text:"Company",filter:Object(O.textFilter)()},{dataField:"contactNumber",text:"Telephone",filter:Object(O.textFilter)()},{dataField:"workerName",text:"Provider name",filter:Object(O.textFilter)()},{dataField:"action",text:"Action"}];return i.a.createElement("div",null,this.modal(),i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:t,columns:a,filter:N()()})))}return i.a.createElement("div",{className:"calling"},i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("br",null),i.a.createElement("p",null,"Please wait while we retrieve your bookings."))}}]),a}(i.a.Component),me=(a(123),a(27).apiCall),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={services:n.props.filterByUsername?localStorage.getItem("company_services")&&JSON.parse(localStorage.getItem("company_services")):localStorage.getItem("agme_all_services")&&JSON.parse(localStorage.getItem("agme_all_services")),done:!1},n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.state.services||me("company","getAllServices","","GET").then((function(t){var a=Object(z.getDecodedJwtFromLocalStorage)()&&Object(z.getDecodedJwtFromLocalStorage)().sub;if(200===t.statusCode){var n=t.body;e.props.filterByUsername&&(n=n.filter((function(e){return e.company.filter((function(e){return e.username===a})).length>0}))),e._isMounted&&e.setState({done:!0,services:n})}else e._isMounted&&e.setState({done:!0,services:null})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.state.services&&this.state.services.length){var e=this.state.services.map((function(e){return{name:e.name,description:e.description}})),t=[{dataField:"name",text:"Service",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})},{dataField:"description",text:"Description",filter:Object(O.textFilter)({comparator:O.Comparator.LIKE})}];return i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:e,columns:t,filter:N()()}))}return this.state.done?"No services available":i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading services...")))}}]),a}(i.a.Component),de=a(27).apiCall,pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={services:[]},n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._idMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=localStorage.getItem("user_services")?JSON.parse(localStorage.getItem("user_services")):[];t&&t.length?this.setState({services:t}):de("user","getAllServices",null,"get").then((function(t){200===t.statusCode&&e._idMounted&&e.setState({services:t.body})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h5",null,"These are all services registed in AGME"),i.a.createElement(he,null))}}]),a}(i.a.Component),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return{userNewAppointment:i.a.createElement(A,null),upcomingAppointments:i.a.createElement(ue,null),userServices:i.a.createElement(pe,null),viewProviders:i.a.createElement(Z,null)}[this.props.component]||""}}]),a}(i.a.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSelectNavBar=n.handleSelectNavBar.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleSelectNavBar",value:function(e){e.preventDefault(),this.props.handleSelectNavBar(i.a.createElement(ve,{component:e.target.name}),!0)}},{key:"render",value:function(){var e=this,t=Object(z.getDecodedJwtFromLocalStorage)(),a=t.exp-(new Date).getTime()/1e3<0;return i.a.createElement(ee.a,{className:"userNavbar"},i.a.createElement(ee.a.Brand,{className:"brand"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(ae.a.Item,{name:"userNewAppointment",className:"userName",onClick:this.handleSelectNavBar},i.a.createElement(re.a,null),t.sub),i.a.createElement(ae.a,{title:"Services",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"viewProviders",onClick:this.handleSelectNavBar},"Providers"),i.a.createElement(ae.a.Divider,null),i.a.createElement(ae.a.Item,{name:"userServices",onClick:this.handleSelectNavBar},"View Services")),i.a.createElement(ae.a,{title:"My Appointments",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"userNewAppointment",onClick:this.handleSelectNavBar},"New appointment"),i.a.createElement(ae.a.Item,{name:"upcomingAppointments",onClick:this.handleSelectNavBar},"Manage my appointments (view/delete)"))),i.a.createElement(te.a.Link,{name:"help",onClick:this.props.handleSelectNavBar},"Help/Report")),function(){if(!a)return i.a.createElement(ie.b.Provider,{value:{color:"white",size:"40px"}},i.a.createElement("div",null,i.a.createElement(ne.a,{className:"logout",onClick:e.props.handleLogout})))}())}}]),a}(i.a.Component),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=Object(z.getDecodedJwtFromLocalStorage)();return i.a.createElement(ee.a,{bg:"light",expand:"lg"},i.a.createElement(ee.a.Brand,{href:"#home"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(te.a.Link,{href:"#home"},"Home"),i.a.createElement(te.a.Link,{href:"#link"},"Link"),i.a.createElement(ae.a,{title:"Services",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"providers",onClick:this.props.handleSelectNavBar},"Providers"),i.a.createElement(ae.a.Item,{href:"#action/3.2"},"Another action"),i.a.createElement(ae.a.Item,{href:"#action/3.3"},"Something"),i.a.createElement(ae.a.Divider,null),i.a.createElement(ae.a.Item,{href:"#action/3.4"},"Separated link")),i.a.createElement(te.a.Link,{name:"help",onClick:this.props.handleSelectNavBar},"Help/Report"))),function(){if(t&&t.exp>t.iat)return i.a.createElement(ie.b.Provider,{value:{color:"white",size:"40px"}},i.a.createElement("div",null,i.a.createElement(ne.a,{className:"logout",onClick:e.props.handleLogout})))}())}}]),a}(i.a.Component),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(ee.a,{className:"userNavbar"},i.a.createElement(ee.a.Brand,{className:"brand"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(te.a.Link,{className:"userNavbar"},"Home"),i.a.createElement(te.a.Link,{name:"login",onClick:this.props.handleSelectNavBar},"Login"),i.a.createElement(te.a.Link,{name:"help",onClick:this.props.handleSelectNavBar},"Help/Report"))))}}]),a}(i.a.Component),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h4",null,"My services"),i.a.createElement(he,{filterByUsername:!0}))}}]),a}(i.a.Component),Ee=a(27),ke=Ee.apiCall,Se=Ee.getDecodedJwtFromLocalStorage,Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={allServices:localStorage.getItem("agme_all_services")?JSON.parse(localStorage.getItem("agme_all_services")):[],companyServices:localStorage.getItem("company_services")?JSON.parse(localStorage.getItem("company_services")):[],available:localStorage.getItem("company_available_services")?JSON.parse(localStorage.getItem("company_available_services")):[],serviceName:"",isCallingServer:!1,failed:!1,error:null,description:"",name:"",entity:new E},n._isMounted=!1,n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.addNewSubmit=n.addNewSubmit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"addNewSubmit",value:function(e){var t=this;e&&e.preventDefault(),this.state.isCallingServer||(this.setState({isCallingServer:!0}),this.state.entity.setField("name",this.state.name),this.state.entity.setField("description",this.state.description),ke("company","newService",this.state.entity,"post").then((function(e){if(200===e.statusCode){var a=t.state.allServices,n=t.state.companyServices,i=t.state.available.filter((function(t){return t.name!==e.body.name}));a.push(e.body),n.push(e.body),localStorage.setItem("agme_all_services",JSON.stringify(a)),localStorage.setItem("company_services",JSON.stringify(n)),localStorage.setItem("company_available_services",JSON.stringify(i)),t._isMounted&&t.setState({allServices:a,companyServices:n,available:i,isCallingServer:!1})}else t._isMounted&&t.setState({isCallingServer:!1})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.state.allServices&&0!==this.state.allServices.length||ke("company","getAllServices",null,"GET").then((function(t){var a=Se().sub;if(200===t.statusCode){var n=new Set,i=new Set,l=t.body.filter((function(e){n.add(e.name);var t=e.company.filter((function(e){return e.username===a})).length>0;return t&&i.add(e.name),t})),r=t.body.filter((function(e){return!i.has(e.name)}));e._isMounted&&e.setState({allServices:t.body,companyServices:l,available:r})}}))}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.setState(Object(h.a)({},t,a))}},{key:"showInputFields",value:function(){var e=this;return this.state.available.filter((function(t){return t.name===e.state.name})).length>0?i.a.createElement("div",null,i.a.createElement(d.a,{onClick:function(t){t.preventDefault(),e.setState({name:null,description:null})}},"Type new")):i.a.createElement("div",null,i.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"name",className:"form-control",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"description",value:this.state.description,className:"form-control",placeholder:"description",onChange:this.handleInputChange}),i.a.createElement("br",null))}},{key:"render",value:function(){var e=this;if(this.state.isCallingServer)return i.a.createElement("div",{className:"newService"},i.a.createElement("div",{className:"calling"},i.a.createElement("div",{className:"spinnerOutter"},i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"}))),i.a.createElement("br",null),i.a.createElement("p",null,"Please wait while we add ",this.state.name,"  to your company.")));if(this.state.available&&this.state.available.length>0){var t,a=this.state.available.map((function(e,t){return i.a.createElement("option",{key:t,value:e.name},e.name)})),n="",l=this.state.companyServices.filter((function(t){return t.name===e.state.name})).length>0;if(this.state.name)this.state.companyServices.filter((function(t){return t.name===e.state.name})).length>0?n="Cannot add service "+this.state.name+". You already provide it":(t=i.a.createElement(d.a,{onClick:this.addNewSubmit,variant:"success"},"Add"),n="");else t=i.a.createElement(d.a,{variant:"secondary"},"Add");return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"newService"},i.a.createElement("h1",null,"Add a new service"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("p",null,"Select an existing service or add a new one"),i.a.createElement("select",{name:"name",onChange:this.handleInputChange,defaultValue:"DEFAULT"},i.a.createElement("option",{value:"DEFAULT",disabled:!0},"Choose a service"),a),this.showInputFields(),i.a.createElement("br",null),i.a.createElement("div",{className:"duplicate "+l},n),t))}return i.a.createElement("div",{className:"newService"},i.a.createElement("h1",null,"Add a new service"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"name",className:"form-control",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"description",value:this.state.description,className:"form-control",placeholder:"description",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.addNewSubmit},"add new"))}}]),a}(i.a.Component),Oe=(a(348),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={updateCounter:0},n}return Object(s.a)(a,[{key:"findBookingByTime",value:function(e){var t=this;try{return this.props.bookings.filter((function(a){var n=a.startDateTime.split(" ")[1].split(":00:")[0];return a.startDateTime.includes(t.props.date)&&Number(n)===Number(e)}))[0]}catch(a){return null}}},{key:"render",value:function(){var e=this,t=[8,9,10,11,12,13,14,15,16,17],a=new Set(t);Array.from(this.props.times).forEach((function(e){a.delete(e)}));var n=t.map((function(t,n){var l=e.findBookingByTime(t)&&i.a.createElement("span",{className:"delete_info"},"Delete Booking id:",e.findBookingByTime(t).id,i.a.createElement(d.a,{value:e.findBookingByTime(t).id,className:"button_info",variant:"secondary",onClick:e.props.deleteBooking},i.a.createElement(oe.c,null))),r=null,o=null;return a.has(t)?r=i.a.createElement(d.a,{variant:"success"},"Available"):(r=i.a.createElement(d.a,{variant:"secondary"},"Unvailable"),o=i.a.createElement(d.a,{value:e.findBookingByTime(t).id,variant:"secondary",className:"schedule_delete_button",onClick:e.props.deleteBooking},i.a.createElement(oe.c,null))),i.a.createElement("div",{className:"hour",key:n},i.a.createElement("span",{className:"label"},t),r,o,l)}));return i.a.createElement("div",{className:"employee_availability"},i.a.createElement("p",null,"Click on ",i.a.createElement(d.a,{className:"button_info",variant:"secondary"},i.a.createElement(oe.c,null)),"to delete a booked time slot"),n)}}]),a}(i.a.Component)),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSelectDate=n.handleSelectDate.bind(Object(c.a)(n)),n.state={date:""},n}return Object(s.a)(a,[{key:"handleSelectDate",value:function(e){e.preventDefault();var t=e.target.value.split("-");this.setState({date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})}},{key:"render",value:function(){if(this.props.employee.id){var e=this.props.employee.getBookings(this.props.bookings),t={};e.forEach((function(e){var a=e.startDateTime.split(" ")[0].slice(0,8);t[a]||(t[a]={times:new Set});var n=e.startDateTime.split(" ")[1].split(":00:")[0];t[a].times.add(n)}));var a=t[this.state.date.slice(0,8)]?t[this.state.date.slice(0,8)].times:new Set,n=this.state.date?i.a.createElement(Oe,{isUpdatingAvailability:this.state.isUpdatingAvailability,date:this.state.date.slice(0,8),times:a,bookings:e,deleteBooking:this.props.deleteBooking}):"";return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"date"},"Pick a date"),i.a.createElement("input",{name:"date",type:"date",onChange:this.handleSelectDate})),n)}return""}}]),a}(i.a.Component),we=(a(349),a(27).apiCall),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={employees:localStorage.getItem("company_employees")?JSON.parse(localStorage.getItem("company_employees")):[],selectedEmployee:null,bookings:localStorage.getItem("company_bookings")?JSON.parse(localStorage.getItem("company_bookings")):[]},n._isMounted=!1,n.callDeleteBooking=n.callDeleteBooking.bind(Object(c.a)(n)),n.handleSelectEmployee=n.handleSelectEmployee.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.state.employees||we("company","getEmployees",null,"get").then((function(t){if(200===t.statusCode){var a=t.body.map((function(e){return new $(e)}));e._isMounted&&e.setState({employees:a})}})),this.state.bookings||we("company","getBookings",null,"get").then((function(t){200===t.statusCode&&e.setState({bookings:t.body})}))}},{key:"callDeleteBooking",value:function(e){var t=this;e.preventDefault();var a=e.currentTarget.value;we("company","deleteBooking",a,"delete").then((function(e){if(204===e.statusCode){var n=t.state.bookings.filter((function(e){return Number(e.id)!==Number(a)}));t.setState({bookings:n})}}))}},{key:"handleSelectEmployee",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,new $(JSON.parse(e.target.value))))}},{key:"render",value:function(){if(console.log(this.state),this.state.employees.length>0){var e=this.state.employees.map((function(e,t){return i.a.createElement("option",{key:t+1,value:JSON.stringify(e)},"ID:".concat(e.id," - ").concat(e.name))}));return i.a.createElement("div",{className:"viewEmployee"},i.a.createElement("h5",null,"Select an employee"),i.a.createElement("select",{name:"selectedEmployee",defaultValue:"DEFAULT",onChange:this.handleSelectEmployee},i.a.createElement("option",{value:"DEFAULT",disabled:!0},"Select an employee"),e),i.a.createElement(Ne,{deleteBooking:this.callDeleteBooking,employee:new $(this.state.selectedEmployee),bookings:this.state.bookings}))}return i.a.createElement("div",null,i.a.createElement("h5",null,"Select an Employee"))}}]),a}(i.a.Component),De=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return{agmeServices:i.a.createElement(he,null),companyServices:i.a.createElement(ye,null),addExistingServices:i.a.createElement(Ce,null),viewEmployees:i.a.createElement(je,null),viewBookings:i.a.createElement(L,null)}[this.props.component]||""}}]),a}(i.a.Component),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSelectNavBar=n.handleSelectNavBar.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleSelectNavBar",value:function(e){e.preventDefault(),this.props.handleSelectNavBar(i.a.createElement(De,{component:e.target.name}),!0)}},{key:"render",value:function(){var e=this,t=Object(z.getDecodedJwtFromLocalStorage)();return i.a.createElement(ee.a,{className:"userNavbar"},i.a.createElement(ee.a.Brand,{className:"brand"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(ae.a.Item,{className:"userName"},i.a.createElement(re.a,null),i.a.createElement("span",{name:"viewBookings",onClick:this.handleSelectNavBar},t.sub)),i.a.createElement(ae.a,{title:"Services",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"providers",onClick:this.props.handleSelectNavBar},"Providers"),i.a.createElement(ae.a.Divider,null),i.a.createElement(ae.a.Item,{name:"agmeServices",onClick:this.handleSelectNavBar},"Agme Services"),i.a.createElement(ae.a.Item,{name:"companyServices",onClick:this.handleSelectNavBar},"My Services"),i.a.createElement(ae.a.Item,{name:"addExistingServices",onClick:this.handleSelectNavBar},"Add a new service")),i.a.createElement(ae.a,{title:"Employees",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"viewEmployees",onClick:this.handleSelectNavBar},"View Employees")),i.a.createElement(ae.a,{title:"Bookings",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"viewBookings",onClick:this.handleSelectNavBar},"View and Search Bookings")))),function(){if(t&&t.exp>t.iat)return i.a.createElement(ie.b.Provider,{value:{color:"white",size:"40px"}},i.a.createElement("div",null,i.a.createElement(ne.a,{className:"logout",onClick:e.props.handleLogout})))}())}}]),a}(i.a.Component),_e=a(27),Ae=_e.apiCall,Be=_e.fetchFromApi,Ie=_e.getDecodedJwtFromLocalStorage,Fe=a(128),xe=function(){function e(t,a){Object(o.a)(this,e),this.state=t,this.callback=a,this.state.availabilityManagerIsReady||this.getDummyUser(),this._isMounted=!1}return Object(s.a)(e,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"setDate",value:function(e){var t=Number(e.split("-")[0])-2e3,a=e.split("-")[1],n=e.split("-")[2];this.date="".concat(n,"-").concat(a,"-").concat(t),this.filterAppointmentsByDate()}},{key:"setTime",value:function(e){this.time=e}},{key:"setDuration",value:function(e){this.duration=e}},{key:"filterAppointmentsByDate",value:function(){var e=this;if(this.appointments&&this.date){for(var t={},a=0;a<24;a++)t[a]=null;this.filteredAppointments=this.appointments.filter((function(a){if(a.startDateTime.includes(e.date)){for(var n=Number(a.startDateTime.split(" ")[1].split(":")[0]),i=n;i<n+a.duration;i++)t[i]=a;return!0}return!1})),this.times=t}}},{key:"blockTime",value:function(){var e=Object(y.a)(f.a.mark((function e(t){var a,n,i,l,r,o,s,c,u,m,h,d=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!0),a=this.credentials.jwt){e.next=4;break}return e.abrupt("return",!1);case 4:n=Number(this.date.split("-")[2])+2e3,i=Number(this.date.split("-")[1])<10?"0"+Number(this.date.split("-")[1]).toString():Number(this.date.split("-")[1]),l=Number(this.date.split("-")[0])<10?"0"+Number(this.date.split("-")[0]).toString():Number(this.date.split("-")[0]),r="T"+(Number(this.time)<10?"0"+Number(this.time).toString():this.time)+":00:00.000+00:00",o=Ie().sub,s={serviceType:"GYM",date:"".concat(n,"-").concat(i,"-").concat(l).concat(r),duration:1,employeeUsername:o},c={"Content-Type":"application/JSON",Accept:"application/JSON","Access-Control-Allow-Origin":"*",Authorisation:"Bearer "+a},u={method:"POST",body:JSON.stringify(s),headers:c},m=Fe.api.url,h=Fe.api.uri.user.newBooking;try{Be(m,h,u).then((function(e){if(200!==e.statusCode)throw new Error("did not work");d.times[d.time]=e.body,t(!1,e.statusCode);var a=localStorage.getItem("employee_bookings")?JSON.parse(localStorage.getItem("employee_bookings")):[];a.push(e.body),localStorage.setItem("employee_bookings",JSON.stringify(a))}))}catch(p){t(!1,"UNKNOWN_ERROR")}case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDummyUser",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={username:"dummy",password:"12345678",role:"USER"},localStorage.getItem("employee_dummy_user_credentials")?JSON.parse(localStorage.getItem("employee_dummy_user_credentials"))&&(this.failed=!1,this.credentials=JSON.parse(localStorage.getItem("employee_dummy_user_credentials")),this.callback(this,200)):Ae("common","login",t,"post").then((function(e){200===e.statusCode?localStorage.setItem("employee_dummy_user_credentials",JSON.stringify(e.body)):a.failed=!0,a.credentials=e.body,a.callback(a,e.statusCode)})),localStorage.getItem("employee_bookings")?(this.appointments=JSON.parse(localStorage.getItem("employee_bookings")),this.callback(this,!1,200)):Ae("employee","getBookings",null,"get").then((function(e){200===e.statusCode&&(a.appointments=e.body),a.callback(a,!1,e.statusCode)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isDummyAppointment",value:function(){return this.times[this.time]&&"dummy"===this.times[this.time].user.username}},{key:"deleteBooking",value:function(e){var t=this;e(!0);var a=this.times[this.time].id,n={"Content-Type":"application/JSON",Accept:"application/JSON","Access-Control-Allow-Origin":"*",Authorisation:"Bearer "+this.credentials.jwt},i={method:"DELETE",body:a,headers:n},l=Fe.api.url,r=Fe.api.uri.user.deleteBooking;try{Be(l,r,i).then((function(n){if(![200,204].includes(n.statusCode))throw new Error("did not work");Object.keys(t.times).forEach((function(e){t.times[e]&&t.times[e].id===a&&(t.times[e]=null)}));var i=JSON.parse(localStorage.getItem("employee_bookings"));if(i&&i.length){var l=i.filter((function(e){return e.id!==a}));localStorage.setItem("employee_bookings",JSON.stringify(l))}e(!1,n.statusCode)}))}catch(o){e(!1,"UNKNOWN_ERROR")}}}]),e}(),Te=(a(350),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={showModal:!1,isUpdatingAvailability:!1},n.callback=n.callback.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"callback",value:function(e,t){this._isMounted&&this.setState({isUpdatingAvailability:e,showModal:e,error:t})}},{key:"modalTitle",value:function(){return this.state.selectedAppointment?this.props.employeeAvailabilityManager.isDummyAppointment()?"Unblock time slot ".concat(this.props.employeeAvailabilityManager.date," from ").concat(this.props.employeeAvailabilityManager.time,":00 to ").concat(Number(this.props.employeeAvailabilityManager.time)+1,":00"):"Cancel Booking":this.state.isUpdatingAvailability?"Blocking ".concat(this.props.employeeAvailabilityManager.date," from ").concat(this.props.employeeAvailabilityManager.time,":00 to ").concat(Number(this.props.employeeAvailabilityManager.time)+1,":00"):"Block slot ".concat(this.props.employeeAvailabilityManager.date," from ").concat(this.props.employeeAvailabilityManager.time,":00 to ").concat(Number(this.props.employeeAvailabilityManager.time)+1,":00")}},{key:"modalBody",value:function(){return this.state.isUpdatingAvailability?i.a.createElement("div",null,i.a.createElement(p.a,{animation:"border",role:"status"}),"Please wait while we block the time slot ",this.props.employeeAvailabilityManager.date," from ",this.props.employeeAvailabilityManager.time,":00 to  ",Number(this.props.employeeAvailabilityManager.time)+1,":00"):this.state.selectedAppointment?this.props.employeeAvailabilityManager.isDummyAppointment()?"By confirming you will make this slot time available again.":"You are about to cancel an appointment. You cannot partially cancel the appointment. If the appointment is booked for more than 1 hour, the whole slot will be canceled.":"Please confirm to block this time slot. Once you confirm it, no user will be able to see this slot as available."}},{key:"modalFooter",value:function(){var e=this;return this.state.isUpdatingAvailability?"":this.state.selectedAppointment?this.props.employeeAvailabilityManager.isDummyAppointment()?i.a.createElement("div",null,i.a.createElement(d.a,{className:"footer_buttons",variant:"primary",onClick:function(t){t.preventDefault(),e.props.employeeAvailabilityManager.deleteBooking(e.callback)}},"Confirm"),i.a.createElement(d.a,{className:"footer_buttons",variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel")):i.a.createElement("div",null,i.a.createElement(d.a,{className:"footer_buttons",variant:"danger",onClick:function(t){t.preventDefault(),e.props.employeeAvailabilityManager.deleteBooking(e.callback)}},"Confirm"),i.a.createElement(d.a,{className:"footer_buttons",variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel")):i.a.createElement("div",null,i.a.createElement(d.a,{className:"footer_buttons",variant:"danger",onClick:function(t){t.preventDefault(),e.props.employeeAvailabilityManager.blockTime(e.callback)}},"Block it"),i.a.createElement(d.a,{className:"footer_buttons",variant:"secondary",onClick:function(t){t.preventDefault(),e.setState({showModal:!1})}},"Cancel"))}},{key:"render",value:function(){var e=this;if(this.props.employeeAvailabilityManager&&this.props.employeeAvailabilityManager.times){for(var t=[],a=function(a){var n=void 0,l="Available";if(null===e.props.employeeAvailabilityManager.times[a])n=i.a.createElement(oe.b,{className:"available",onClick:function(t){t.preventDefault(),e.props.employeeAvailabilityManager.setTime(a),e.setState({showModal:!0,selectedAppointment:e.props.employeeAvailabilityManager.times[a]})}});else{var r=e.props.employeeAvailabilityManager.times[a]&&e.props.employeeAvailabilityManager.times[a].user.name;l="dummy"===(e.props.employeeAvailabilityManager.times[a]&&e.props.employeeAvailabilityManager.times[a].user.username)?"You blocked this time slot":"You are providing service to "+r,n=i.a.createElement(oe.a,{className:"unvailable",onClick:function(t){t.preventDefault(),e.props.employeeAvailabilityManager.setTime(a),e.setState({showModal:!0,selectedAppointment:e.props.employeeAvailabilityManager.times[a]})}})}t.push({time:a,status:n,details:l})},n=8;n<18;n++)a(n);return i.a.createElement("div",{className:"employee_schedule"},i.a.createElement("div",null,i.a.createElement("h4",null,"Daily Schedule")),i.a.createElement(se.a,{show:this.state.showModal},i.a.createElement(se.a.Dialog,null,i.a.createElement(se.a.Header,null,i.a.createElement(se.a.Title,null,this.modalTitle())),i.a.createElement(se.a.Body,null,this.modalBody()),i.a.createElement(se.a.Footer,null,this.modalFooter()))),i.a.createElement("div",{className:"upcoming_appointments_table"},i.a.createElement(M.a,{keyField:"id",data:t,columns:[{dataField:"time",text:"Time slot"},{dataField:"status",text:"Availability"},{dataField:"details",text:"Details"}]})))}return i.a.createElement("div",null,"Loading schedule")}}]),a}(i.a.Component)),Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={date:""},n.updateComponent=n.updateComponent.bind(Object(c.a)(n)),n._isMounted=!1,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,new xe(this.state,this.updateComponent)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"updateComponent",value:function(e,t,a){t?this._isMounted&&this.setState({employeeAvailabilityManager:e,dummyUserStatus:t}):this._isMounted&&this.setState({employeeAvailabilityManager:e,appointmentsStatus:a})}},{key:"render",value:function(){var e=this;return this.state.dummyUserStatus&&this.state.appointmentsStatus?200===this.state.dummyUserStatus&&200===this.state.appointmentsStatus?i.a.createElement("div",null,i.a.createElement("input",{type:"date",name:"date",onChange:function(t){t.preventDefault(),e.state.employeeAvailabilityManager.setDate(t.target.value),e.setState({date:t.target.value})}}),i.a.createElement(Te,{date:this.state.date,employeeAvailabilityManager:this.state.employeeAvailabilityManager})):i.a.createElement("div",null,"Oooops, sorry we cannot fulfill your request now."):i.a.createElement("div",null,i.a.createElement(p.a,{animation:"border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),i.a.createElement("p",null,"Please wait while we take care of a few things before you can manage your schedule."),i.a.createElement("p",null,"This may take a while."))}}]),a}(i.a.Component),Ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return{appointsManagement:i.a.createElement(Le,null),employeeDashboard:i.a.createElement(R,null)}[this.props.component]||""}}]),a}(i.a.Component),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSelectNavBar=n.handleSelectNavBar.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleSelectNavBar",value:function(e){e.preventDefault(),this.props.handleSelectNavBar(i.a.createElement(Ue,{component:e.target.name}),!0)}},{key:"render",value:function(){var e=this,t=Object(z.getDecodedJwtFromLocalStorage)();return i.a.createElement(ee.a,{className:"userNavbar"},i.a.createElement(ee.a.Brand,{className:"brand"},"AGME"),i.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(te.a,{className:"mr-auto"},i.a.createElement(ae.a.Item,{className:"userName"},i.a.createElement(re.a,null),t.sub),i.a.createElement(ae.a,{title:"Services",id:"basic-nav-dropdown"},i.a.createElement(ae.a.Item,{name:"appointsManagement",onClick:this.handleSelectNavBar},"Manage my appointments"),i.a.createElement(ae.a.Item,{name:"employeeDashboard",onClick:this.handleSelectNavBar},"My Dashboard")),i.a.createElement(te.a.Link,{name:"help",onClick:this.props.handleSelectNavBar},"Help/Report"))),function(){if(t&&t.exp>t.iat)return i.a.createElement(ie.b.Provider,{value:{color:"white",size:"40px"}},i.a.createElement("div",null,i.a.createElement(ne.a,{className:"logout",onClick:e.props.handleLogout})))}())}}]),a}(i.a.Component),Je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=Object(z.getDecodedJwtFromLocalStorage)(),t=e&&e.exp-(new Date).getTime()/1e3<0;if(e&&!t){if(e.role.toUpperCase().includes("PROVIDER"))return i.a.createElement(le,{handleLogout:this.props.handleLogout,token:this.props&&this.props.token,handleSelectNavBar:this.props.handleSelectNavBar});if(e.role.toUpperCase().includes("USER"))return i.a.createElement(ge,{handleLogout:this.props.handleLogout,token:this.props&&this.props.token,handleSelectNavBar:this.props.handleSelectNavBar});if(e.role.toUpperCase().includes("ADMIN"))return i.a.createElement(be,{handleLogout:this.props.handleLogout,token:this.props&&this.props.token,handleSelectNavBar:this.props.handleSelectNavBar});if(e.role.toUpperCase().includes("COMPANY"))return i.a.createElement(Me,{handleLogout:this.props.handleLogout,token:this.props&&this.props.token,handleSelectNavBar:this.props.handleSelectNavBar});if(e.role.toUpperCase().includes("EMPLOYEE"))return i.a.createElement(Re,{handleLogout:this.props.handleLogout,token:this.props&&this.props.token,handleSelectNavBar:this.props.handleSelectNavBar});throw localStorage.removeItem("credentials"),new Error({errorId:"INVALID_LOGIN",message:"Your session has expired. Please refresh your browser."})}return i.a.createElement(fe,{handleSelectNavBar:this.props.handleSelectNavBar})}}]),a}(i.a.Component),Pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("div",null,i.a.createElement("h1",null,"An unexpected error has occurred"),i.a.createElement("p",null,"Please refresh your browser")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),a}(i.a.Component),qe=a(27).getResources,Ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a),e=t.call(this);var n=Object(z.getDecodedJwtFromLocalStorage)(),i=n&&n.exp-(new Date).getTime()/1e3<0;return n&&(e.state={authenticated:!i,token:!i&&localStorage.getItem("credentials")||null,content:"",type:n.role}),e.handleAuthentication=e.handleAuthentication.bind(Object(c.a)(e)),e.handleLogout=e.handleLogout.bind(Object(c.a)(e)),e.handleContentChangeRequest=e.handleContentChangeRequest.bind(Object(c.a)(e)),e.handleContentChangeRequestSignup=e.handleContentChangeRequestSignup.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.setState({content:i.a.createElement(J,{authenticated:this.state&&this.state.authenticated,handleAuthentication:this.handleAuthentication,handleContentChangeRequest:this.handleContentChangeRequest,handleContentChangeRequestSignup:this.handleContentChangeRequestSignup,type:this.state&&this.state.type,expiry:this.state&&this.state.expiry})})}},{key:"handleContentChangeRequest",value:function(e,t){try{e.preventDefault()}catch(n){}var a="";if(t)a=e;else switch(e.target?e.target.getAttribute("name"):e){case"signup":a=i.a.createElement(G,{handleAuthentication:this.handleAuthentication,handleContentChangeRequest:this.handleContentChangeRequest,handleContentChangeRequestSignup:this.handleContentChangeRequestSignup});break;case"providers":a=i.a.createElement(Z,null);break;case"login":a=i.a.createElement(g,{handleContentChangeRequest:this.handleContentChangeRequest,handleContentChangeRequestSignup:this.handleContentChangeRequestSignup,handleAuthentication:this.handleAuthentication});break;case"help":a=i.a.createElement(K,{handleContentChangeRequest:this.handleContentChangeRequest});break;default:console.log("no content available?")}this._isMounted&&this.setState({content:a})}},{key:"handleContentChangeRequestSignup",value:function(e){var t="";switch(e){case"signup":t=i.a.createElement(G,{handleContentChangeRequestSignup:this.handleContentChangeRequestSignup,handleContentChangeRequest:this.handleContentChangeRequest});break;case"providers":t=i.a.createElement(Z,null);break;case"login":t=i.a.createElement(g,{handleContentChangeRequest:this.handleContentChangeRequest,handleAuthentication:this.handleAuthentication});break;default:console.log("no content available?")}this._isMounted&&this.setState({content:t})}},{key:"handleAuthentication",value:function(){qe();var e=JSON.parse(localStorage.getItem("credentials")),t=Object(z.getDecodedJwtFromLocalStorage)(),a=t&&t.exp-(new Date).getTime()/1e3<0;if(e&&!a){var n=t.role;this._isMounted&&this.setState({token:t.jwt,authenticated:!0,role:t.role,content:i.a.createElement(J,{authenticated:!0,handleAuthentication:this.handleAuthentication,handleContentChangeRequest:this.handleContentChangeRequest,type:n,token:t.jwt,expiry:t.expiry})})}}},{key:"handleLogout",value:function(e){e.preventDefault(),localStorage.clear(),this.setState({token:null,authenticated:!1,expiry:null,content:i.a.createElement(J,{handleAuthentication:this.handleAuthentication,handleContentChangeRequest:this.handleContentChangeRequest})})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Pe,null,i.a.createElement(Je,{handleLogout:this.handleLogout,token:this.state&&this.state.token,handleSelectNavBar:this.handleContentChangeRequest}),this.state&&this.state.content))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){}},[[193,1,2]]]);
//# sourceMappingURL=main.5507b874.chunk.js.map